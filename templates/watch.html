<!DOCTYPE html>
<html>
<head>
    <title>{{ filename }} - MeTube</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <nav class="navbar">
        <a href="/" class="logo"><span>â–¶</span> MeTube</a>
    </nav>

    <div class="watch-container">
        <div class="main-video">
            {% if file_type == 'video' %}
                <video controls autoplay>
                    <source src="{{ url_for('serve_media', filename=filename) }}" type="video/mp4">
                </video>
            {% else %}
                <img src="{{ url_for('serve_media', filename=filename) }}" class="main-image">
            {% endif %}
            <h2>{{ filename }}</h2>
            <div style="background: #272727; padding: 15px; border-radius: 12px; font-size: 14px;">
                <strong>Local File</strong><br>
                This file is being streamed from your local MeTube media folder.
            </div>
        </div>

        <div class="recommendations">
            <p>Up Next</p>
            {% for file in all_files[:10] %}
            <a href="{{ url_for('watch', filename=file.url) }}" style="text-decoration:none; display:flex; margin-bottom:10px;">
                <div style="width:120px; height:68px; background:#333; border-radius:8px; margin-right:10px; flex-shrink:0;">
                    {% if file.type == 'image' %}
                    <img src="{{ url_for('serve_media', filename=file.url) }}" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
                    {% endif %}
                </div>
                <div style="color:white; font-size:12px;">
                    <strong style="display:block; margin-bottom:4px;">{{ file.name }}</strong>
                    <span style="color:#aaa;">MeTube Local</span>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</body>
</html>